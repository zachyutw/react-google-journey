{"version":3,"sources":["components/Modal/ModalSidebar/ModalSidebar.module.css","components/Nav/Navmain/Navmain.module.css","components/Input/InputAddress/InputAddress.module.css","components/Geo/StreetViewPanorama/StreetViewPanorama.module.css","components/Geo/GeoJourney/GeoJourney.module.css","components/Pages/JourneyPage/JourneyPage.module.css","lib/copyStringToClipboard.js","lib/index.js","hooks/useGPS.js","contexts/Geocation/GeocationContext.js","components/Modal/ModalP/ModalP.js","components/Modal/ModalSidebar/ModalSidebar.js","components/App/ItemP/ItemP.js","components/Nav/Navmain/Navmain.js","hooks/useModal.js","components/Button/ButtonMenu/ButtonMenu.js","components/App/Layout/Layout.js","components/App/PageP/PageP.js","hooks/useToggle.js","components/App/SectionP/SectionP.js","components/Input/withField.js","components/Input/InputTextareaP/InputTextareaP.js","components/Input/InputP/InputP.js","components/Input/InputAddress/InputAddress.js","components/Geo/Marker/Marker.js","components/Geo/StreetViewPanorama/StreetViewPanorama.js","hooks/useDragItems.js","components/Geo/Polyline/Polyline.js","components/Geo/GeoJourney/GeoJourney.js","components/Pages/JourneyPage/JourneyPage.js"],"names":["module","exports","modal","nav","vertical","horizontal","closeBtn","input","view","map","items","menu","btns","content","localStream","preview","previewImg","copyStringToClipboard","delay","ms","Promise","resolve","setTimeout","localStorageSafe","document","body","getBoundingClientRect","key","JSON","parse","localStorage","getItem","err","data","setItem","stringify","distanceLoaction","_ref3","_ref4","lat1","lat","lng1","lng","lat2","lng2","unit","arguments","length","undefined","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","GeoJsonPoint","coordinates","name","type","geometry","properties","initState","location","geoJsonGPS","reducer","state","action","Object","objectSpread","coords","latitude","longitude","gpsInfo","condition","dispatchAction","dispatch","config","isSuccess","isLoading","navigator","geolocation","getCurrentPosition","position","error","useGPS","propActived","_useState","useState","_useState2","slicedToArray","actived","setActived","_useState3","enableHighAccuracy","timeout","maximumAge","_useState4","setConfig","_useReducer","useReducer","_","isEmpty","_useReducer2","getGPS","useCallback","useEffect","message","Journey","Joi","object","place_id","any","empty","image","number","required","zoom","pov","heading","pitch","text","string","__html","_ref","title","id","uuid","v4","initJourney","mineJourneyData","nhshs","cycu","bcit","work","mineJourneys","values","placePhotosToImage","photo","_photo$src","src","random","_photo$tags","tags","_photo$width","width","_photo$height","height","readOnlyError","getUrl","console","log","place","item","floor","address_components","head","photos","defineProperty","payload","value","itemsReducer","find","postedItems","concat","toConsumableArray","deletedItems","reject","Context","createContext","Provider","withRouter","props","match","params","target","sectionName","_useReducer3","_useReducer4","itemsState","itemsDispatch","index","setIndex","_useState5","_useState6","pointerMarker","_useGPS","gps","_useState7","_useState8","setDeretion","_useState9","_useState10","google","_useState11","_useState12","handleOnPageLoad","handleOnChange","e","_itemsDispatch","actionType","point","latLng","window","scrollTo","behavior","top","getElementById","offsetTop","_postItem","getZoom","getStreetView","getPov","react_default","a","createElement","onPageLoad","onChange","children","movingMap","_ref5","asyncToGenerator","regenerator_default","mark","_callee2","lastPosition","newPosition","twoPointsdistance","ANIMATION_MOVING_DISTANCE","i","wrap","_context2","prev","next","setZoom","panTo","streetView","setPosition","setPov","stop","_x2","_x3","_x4","_x5","_x6","apply","this","googleMapStyles","featureType","elementType","stylers","saturation","color","lightness","visibility","weight","ModalP","className","onConfirm","controller","bottom","style","justifyContent","backgroundColor","bgStyle","rest","objectWithoutProperties","handleOnToggle","memoTop","useMemo","paddingTop","alignItems","paddingBottom","memoJustifyContent","renderChildren","assign","join","onClick","transitionStyle","side","transition","transform","ModalSidebar","_ref$backgroundColor","_ref$side","Modal_ModalP_ModalP","s","Exsit","exsit","CoverImage","_ref2","handleOnLoad","onLoad","ItemP","_ref3$onChange","icon","ItemP_Exsit","ItemP_CoverImage","t","navmainField","navMainFields","to","main","path","capitalize","navmainFields","middleNavmainFields","fields","reverseFields","reverse","slice","list","field","push","centerSort","_ref3$name","memoFields","App_ItemP_ItemP","useModal","propConfirm","setOnConfirm","setAcitved","setController","ButtonMenu","React","memo","_useModal","_useModal2","handleOnClick","Fragment","Modal_ModalSidebar_ModalSidebar","Nav_Navmain_Navmain","Navbar","ButtonMenu_ButtonMenu","PageP","useToggle","toggle","_ref$parallax","parallax","absolute","_useToggle","_useToggle2","toggleActived","withField","Component","_props$input","meta","_props$onBlur","onBlur","_props$onFocus","onFocus","defaultValue","ref","metaClassNames","keys","pickBy","identity","pickByIdentity","inputOnChange","inputOnBlur","inputFocus","restInput","handleOnBlur","handleOnFocus","placeholder","_ref$input","maxLength","autoGrow","_input$value","localValue","setValue","wordLength","setWordLength","useRef","max","current","scrollHeight","clientHeight","data-word-length","InputDataList","_ref$options","options","_ref2$dataList","dataList","_ref2$input","InputP_InputDataList","_ref$onCancel","onCancel","_ref$onPlace","onPlace","setLocalValue","autocomplete","maps","places","Autocomplete","types","addListener","handleOnPlaceChanged","getPlace","formatted_address","handleOnCancel","Marker","imgSrc","StreetViewPanorama","_ref$visible","visible","_ref$google","svRef","panorama","getCenter","addressControlOptions","ControlPosition","BOTTOM_CENTER","linksControl","panControl","enableCloseButton","zoomControl","fullscreenControl","setStreetView","initlizeStreetViewPanorama","opacity","useDragItems","draggingIndex","setDIndex","dragOverIndex","setDOIndex","isDragging","setIsDraggin","updateItems","temp","handlers","onDragStart","classList","add","getAttribute","onDragOver","onDragEnd","remove","draggable","innerWidth","defaultConfig","geodesic","strokeColor","strokeOpacity","strokeWeight","Polyline","pointPath","setPointPath","setMap","setPath","_pointPath","actionFields","RightMenuBtn","_ref$onChange","_ref$fields","display","data-action","GeoJourneyItem","_item$image","dangerouslySetInnerHTML","GeoJourney_RightMenuBtn","GeoJourenyInfoModal","_ref6","_ref6$onChange","last","onClose","cursor","handleOnMinus","handleOnAdd","Form","setGoolge","_useContext3","useContext","GeocationContext","setCenter","handleOnGoogleApiLoaded","handleOnSubmit","Input_InputAddress_InputAddress","Input_InputP_InputP","Input_InputTextareaP_InputTextareaP","Geo_StreetViewPanorama_StreetViewPanorama","google_map_react_lib_default","minZoom","maxZoom","styles","gestureHandling","defaultCenter","defaultZoom","bootstrapURLKeys","process","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","Items","_useContext","_useDragItems","GeoJourney_GeoJourneyItem","data-index","Map","_ref7","_useContext4","setCursor","hoverd","setHoverd","currentItem","_useState13","_useState14","_position","useGoogleMapAction","handleOnHoverdToggle","GeoJourney_GeoJourenyInfoModal","_ref8","Geo_Marker_Marker","Geo_Polyline_Polyline","_ref9","BtnMine","Componet","withGeocation","App_Layout_Layout","App_PageP_PageP","App_SectionP_SectionP","GeoJourney"],"mappings":"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","file":"static/js/4.fec6eaa4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ModalSidebar_modal__22QQg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navmain_nav__3Uz0f\",\"vertical\":\"Navmain_vertical__3Pxz3\",\"horizontal\":\"Navmain_horizontal__2sPkj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"closeBtn\":\"InputAddress_closeBtn__MwT1Q\",\"input\":\"InputAddress_input__16c1w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"view\":\"StreetViewPanorama_view__2rfKf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"GeoJourney_map__2OrWw\",\"items\":\"GeoJourney_items__3G5n1\",\"menu\":\"GeoJourney_menu__GNHd9\",\"btns\":\"GeoJourney_btns__3FVeS\",\"content\":\"GeoJourney_content__2P9uq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"localStream\":\"JourneyPage_localStream__1JfBB\",\"btns\":\"JourneyPage_btns__2qfTW\",\"preview\":\"JourneyPage_preview__3RmYF\",\"previewImg\":\"JourneyPage_previewImg__3XJZz\"};","function copyStringToClipboard (str){\n    // Create new element\n    var el = document.createElement('textarea');\n    // Set value (string to be copied)\n    el.value = str;\n    // Set non-editable to avoid focus and move outside of view\n    el.setAttribute('readonly', '');\n    el.style = { position: 'absolute', left: '-9999px' };\n    document.body.appendChild(el);\n    // Select text inside element\n    el.select();\n    // Copy text to clipboard\n    document.execCommand('copy');\n    // Remove temporary element\n    document.body.removeChild(el);\n}\nexport default copyStringToClipboard;\n","import _ from 'lodash';\nimport base64ToBlobFunc from './base64ToBlob';\nimport copyStringToClipboardFunc from './copyStringToClipboard';\nimport snapVideoFunc from './snapVideo';\nexport const pickByIdentity = (meta) => _.keys(_.pickBy(meta, _.identity)).join(' ');\nexport const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nexport const base64ToBlob = base64ToBlobFunc;\nexport const copyStringToClipboard = copyStringToClipboardFunc;\nexport const bodyRect = document.body.getBoundingClientRect();\nexport const getElementOffestTop = (el) => el.getBoundingClientRect().top - bodyRect.top;\nexport const snapVideo = snapVideoFunc;\nexport const centerSort = (fields = []) => {\n    const reverseFields = _.reverse(fields.slice());\n    let list = [];\n    reverseFields.map((field, index) => {\n        if (index % 2 === 0) {\n            list.push(field);\n        }\n    });\n    fields.map((field, index) => {\n        if (index % 2 === 1) {\n            list.push(field);\n        }\n    });\n    return list;\n};\n\nexport const localStorageSafe = {\n    getItem: (key) => {\n        try {\n            return JSON.parse(localStorage.getItem(key));\n        } catch (err) {\n            return localStorage.getItem(key) ? localStorage.getItem(key) : null;\n        }\n    },\n    setItem: (key, data) => {\n        localStorage.setItem(key, typeof data === 'object' ? JSON.stringify(data) : data);\n    }\n};\nexport const middlePoint = ({ lat: lat1, lng: lng1 }, { lat: lat2, lng: lng2 }) => {\n    return { lat: (lat1 + lat2) / 2, lng: (lng1 + lng2) / 2 };\n};\nexport function distanceLoaction ({ lat: lat1, lng: lng1 }, { lat: lat2, lng: lng2 }, unit = 'K'){\n    var radlat1 = Math.PI * lat2 / 180;\n    var radlat2 = Math.PI * lat1 / 180;\n    var radlon1 = Math.PI * lng1 / 180;\n    var radlon2 = Math.PI * lng2 / 180;\n    var theta = lng1 - lng2;\n    var radtheta = Math.PI * theta / 180;\n    var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = dist * 180 / Math.PI;\n    dist = dist * 60 * 1.1515;\n    if (unit === 'K') {\n        dist = dist * 1.609344;\n    }\n    if (unit === 'N') {\n        dist = dist * 0.8684;\n    }\n    return dist;\n}\nexport function distance (coordinates1, coordinates2, unit = 'K'){\n    var radlat1 = Math.PI * coordinates1[1] / 180;\n    var radlat2 = Math.PI * coordinates2[1] / 180;\n    var radlon1 = Math.PI * coordinates1[0] / 180;\n    var radlon2 = Math.PI * coordinates2[0] / 180;\n    var theta = coordinates1[0] - coordinates2[0];\n    var radtheta = Math.PI * theta / 180;\n    var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    dist = Math.acos(dist);\n    dist = dist * 180 / Math.PI;\n    dist = dist * 60 * 1.1515;\n    if (unit === 'K') {\n        dist = dist * 1.609344;\n    }\n    if (unit === 'N') {\n        dist = dist * 0.8684;\n    }\n    return dist;\n}\n","import { useEffect, useReducer, useState, useCallback } from 'react';\n\nimport { localStorageSafe } from '../lib';\nimport _ from 'lodash';\nconst GeoJsonPoint = (coordinates, name) => ({\n    type: 'Feature',\n    geometry: {\n        type: 'Point',\n        coordinates\n    },\n    properties: {\n        name\n    }\n});\n\nconst initState = {\n    coordinates: [ -123.145575, 49.2695179 ],\n    location: {\n        lng: -123.145575,\n        lat: 49.2695179\n    },\n    lng: -123.145575,\n    lat: 49.2695179,\n    geoJsonGPS: GeoJsonPoint([ -123.145575, 49.2695179 ], 'currentLocation')\n};\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'start':\n            return { ...state, ...action };\n        case 'success':\n            const lat = action.coords.latitude;\n            const lng = action.coords.longitude;\n            const gpsInfo = { ...state, type: action.type, location: { lat, lng }, condition: action.condition, lat, lng, coordinates: [ lng, lat ], geoJsonGPS: GeoJsonPoint([ lng, lat ], 'currentLocation') };\n            localStorageSafe.setItem('gpsInfo', gpsInfo);\n            return gpsInfo;\n        case 'fail':\n            return { ...state, ...action };\n        default:\n            return { ...state };\n    }\n};\n\nconst dispatchAction = (dispatch) => (config = {}) => {\n    dispatch({ type: 'start', condition: { isSuccess: null, isLoading: true } });\n    navigator.geolocation.getCurrentPosition(\n        (position) => {\n            dispatch({ type: 'success', condition: { isSuccess: true, isLoading: false }, coords: position.coords });\n        },\n        (err) => {\n            dispatch({ type: 'fail', condition: { isSuccess: false, isLoading: false }, error: err });\n        },\n        config\n    );\n    return {};\n};\n\nconst useGPS = (propActived) => {\n    const [ actived, setActived ] = useState(propActived);\n    const [ config, setConfig ] = useState({\n        enableHighAccuracy: false,\n        timeout: 600000,\n        maximumAge: 1000000\n    });\n    const [ state, dispatch ] = useReducer(reducer, _.isEmpty(localStorageSafe.getItem('gps')) ? initState : localStorageSafe.getItem('gps'));\n    const getGPS = useCallback(dispatchAction(dispatch), [ dispatch, dispatchAction ]);\n    useEffect(\n        () => {\n            if (navigator.geolocation) {\n                if (actived) {\n                    getGPS(config);\n                }\n            } else {\n                dispatch({ type: 'error', condition: { isSuccess: false, isLoading: false }, error: { message: 'not support gps' } });\n            }\n        },\n        [ actived ]\n    );\n    return [ state, setActived, setConfig ];\n};\n\nexport default useGPS;\n","import React, { createContext, useReducer, useCallback, useState, useMemo, useEffect, useContext } from 'react';\nimport _ from 'lodash';\nimport { withRouter } from 'react-router-dom';\nimport { distanceLoaction, delay, localStorageSafe } from '../../lib';\nimport useGPS from '../../hooks/useGPS';\nimport placesGeojson from '../../static/geojson/placesGeojson.json';\nimport Joi from 'joi';\nimport uuid from 'uuid';\n\nconst JourneySchema = Joi.object({\n    place_id: Joi.any().empty(),\n    image: Joi.any().empty(),\n    position: Joi.object({ lat: Joi.number(), lng: Joi.number() }).required(),\n    zoom: Joi.number(),\n    pov: Joi.object({ heading: Joi.number(), pitch: Joi.number() }).required(),\n    text: Joi.string(),\n    __html: Joi.string()\n});\nconst Journey = ({ place_id, image, position, zoom, pov, title, __html }) => {\n    return { id: uuid.v4(), place_id, image, position, zoom, pov, title, __html };\n};\nconst validate = async (journey) => {\n    try {\n        return await JourneySchema.validate(journey).then((value) => value);\n    } catch (err) {\n        console.log(err);\n    }\n};\n\nconst initJourney = {\n    id: null,\n    place_id: null,\n    position: { lat: 24.79549369556885, lng: 120.98058667659257 },\n    zoom: 8,\n    image: {},\n    pov: {\n        heading: 160.0645145746409,\n        pitch: 6.050825854995736\n    },\n    title: '',\n    __html: ``\n};\n\nconst mineJourneyData = {\n    nhshs: Journey({\n        place_id: 'ChIJ1cPOouY1aDQRa9Z-ozd_kzk',\n        position: { lat: 24.79549369556885, lng: 120.98058667659257 },\n        zoom: 8,\n        pov: {\n            heading: 160.0645145746409,\n            pitch: 6.050825854995736\n        },\n        title: 'My Start',\n        __html: 'My high school, <b> National Hsinchu Senior High School </b>  which teach that no matter what the environment, be yourselfs'\n    }),\n    cycu: Journey({\n        key: 'cycu',\n        place_id: 'ChIJ3fW0jRUiaDQR38MUWCeH1w0',\n        position: { lat: 24.95721532575274, lng: 121.24037346753119 },\n        zoom: 9,\n        pov: {\n            heading: 56.79792334562531,\n            pitch: 6.050825854995736\n        },\n        title: 'Learning and Thinking',\n        __html:\n            '#Chung Yuan Christian University \\n - I have graded in the CYCU of Electronic Circuit Engineering. However, it was the darkest of my days. \\n - I failed in everything I tried, except some coding courses  \\n - Therefore, I decided to change my life to get a different life.'\n    }),\n    bcit: Journey({\n        key: 'bcit',\n        place_id: 'ChIJ-ZMIHuB2hlQRFzW9EC-ikbY',\n        position: { lat: 49.25158070179947, lng: -123.00355170298383 },\n        zoom: 12,\n        pov: {\n            heading: 158.22706027574722,\n            pitch: 25.398946051790958\n        },\n        title: 'Study in Vancouver',\n        __html: `# BCIT \\n - I had a good time in BCIT for two years diploma. Learn how to live and get along with diffenent cutures classmates. \\n - In this two years, I grew a lot.`\n    }),\n    work: Journey({\n        key: 'work',\n        place_id: 'ChIJ36xQEX9xhlQRwNeJXVjLDPs',\n        position: { lat: 49.28241182808894, lng: -123.11831511814592 },\n        zoom: 12,\n        pov: {\n            heading: 65.21150807128505,\n            pitch: 0.05830758842037653\n        },\n        title: 'Current',\n        __html: '#Current FullStack NodeJS and ReactJS developer \\n '\n    })\n};\nconst mineJourneys = Object.values(mineJourneyData);\n\nconst placePhotosToImage = (photo = {}) => {\n    const { src = 'https://loremflickr.com/g/320/240/nature,girl/all?random=' + _.random(1, 100, false), tags = '', width = 200, height = 200 } = photo;\n    if (!_.isEmpty(photo)) {\n        src = photo.getUrl();\n        width = photo.width;\n        height = photo.height;\n    }\n    return { src, tags, width, height };\n};\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'setPlaceValue':\n            console.log(action.place);\n            return {\n                ...state,\n                item: {\n                    ...state.item,\n                    place_id: action.place.place_id,\n                    zoom: Math.floor(action.place.address_components.length * 2.8),\n                    position: { lat: action.place.geometry.location.lat(), lng: action.place.geometry.location.lng() },\n                    image: placePhotosToImage(_.head(action.place.photos))\n                }\n            };\n        case 'patchValue':\n            console.log(action);\n            return { ...state, item: { ...state.item, [action.payload.name]: action.payload.value } };\n        case 'setZoom':\n            return { ...state, item: { ...state.item, zoom: action.zoom } };\n        case 'setPov':\n            return { ...state, item: { ...state.item, pov: action.pov } };\n        case 'setPostion':\n            return { ...state, item: { ...state.item, position: action.position } };\n        case 'postItem':\n            console.log('123');\n            return { ...state, item: action.item };\n        case 'editItem':\n            return { ...state };\n        default:\n            return { ...state };\n    }\n};\n\nconst itemsReducer = (state, action) => {\n    switch (action.type) {\n        case 'getItem':\n            const getItem = state.items.find(({ id }) => id === action.item.id);\n            if (getItem && action.dispatch) {\n                action.dispatch({ type: 'postItem', item: getItem });\n            }\n\n            return { ...state };\n        case 'postItem':\n            const postedItems = [ ...state.items, action.item ];\n            localStorageSafe.setItem('journeys', postedItems);\n            return { ...state, items: postedItems };\n        case 'deleteItem':\n            const deletedItems = _.reject(state.items, ({ id }) => id === action.item.id);\n            localStorageSafe.setItem('journeys', deletedItems);\n            return { ...state, items: deletedItems };\n        case 'getItems':\n            console.log(action.items);\n            localStorageSafe.setItem('journeys', action.items);\n            return { ...state, items: [ ...action.items ] };\n        case 'getMineItems':\n            return { ...state, items: mineJourneys };\n        case 'initItems':\n            return { ...state, items: [] };\n        default:\n            return { ...state };\n    }\n};\nexport const places = placesGeojson;\nconst Context = createContext({});\n\nconst Provider = withRouter((props) => {\n    const { match: { params: { target } } } = props;\n    const [ sectionName, setSectionName ] = useState('create');\n    const [ state, dispatch ] = useReducer(reducer, { item: initJourney });\n    const [ itemsState, itemsDispatch ] = useReducer(itemsReducer, { items: localStorageSafe.getItem('journeys') || [] });\n    const [ index, setIndex ] = useState(0);\n    const [ pointerMarker, setPMker ] = useState({});\n    const [ gps ] = useGPS(true);\n    const [ deretion, setDeretion ] = useState(1);\n    const [ google, setGoogle ] = useState(null);\n    const [ place, setPlace ] = useState({});\n    const handleOnPageLoad = useCallback((data) => {\n        switch (data.name) {\n            default:\n                console.log('not set');\n                break;\n        }\n    }, []);\n\n    // useEffect(\n    //     () => {\n\n    //         JourneySchema.validate(journey).then((value) => value).catch();\n    //     },\n    //     [ journey ]\n    // );\n    const handleOnChange = useCallback((e, data) => {\n        // console.log(data.name, data.value);\n        console.log(data);\n        switch (data.actionType) {\n            case 'getItems':\n                itemsDispatch({ type: 'getItems', items: data.items });\n                break;\n            case 'getItem':\n                itemsDispatch({ type: 'getItem', [data.name]: data.value, dispatch });\n                break;\n            case 'setPlaceValue':\n                dispatch({ type: 'setPlaceValue', place: data.place });\n                break;\n            case 'patchValue':\n                dispatch({ type: 'patchValue', payload: data });\n                break;\n            case 'setPoint':\n                dispatch({ type: 'setPostion', position: { lat: data.point.latLng.lat(), lng: data.point.latLng.lng() } });\n                break;\n            case 'onStreetViewPosition':\n                break;\n            case 'onStreetViewPov':\n                // putJourney({ panorama: data.value });\n                break;\n            case 'add':\n                setDeretion(1);\n                setIndex((state) => state + 1);\n                break;\n            case 'minus':\n                setDeretion(-1);\n                setIndex((state) => state - 1);\n                break;\n            case 'mapZoomChange':\n                console.log(data);\n                // putJourney({ map: data.value });\n                break;\n            case 'toEdit':\n                window.scrollTo({ behavior: 'smooth', top: document.getElementById('journey-form').offsetTop });\n                console.log(data);\n                break;\n            case 'postItem':\n                const _postItem = Journey({ ...data.value.item, zoom: data.value.google.map.getZoom(), pov: data.value.google.map.getStreetView().getPov() });\n                dispatch({ type: 'postItem', item: _postItem });\n                itemsDispatch({ type: 'postItem', item: _postItem });\n                break;\n            default:\n                itemsDispatch({ type: data.actionType, ...data });\n                console.log('not set');\n                break;\n        }\n    }, []);\n\n    return (\n        <Context.Provider\n            value={{\n                sectionName,\n                google,\n                pointerMarker,\n                gps,\n                itemsState,\n                initJourney,\n                index,\n                state,\n                onPageLoad: handleOnPageLoad,\n                onChange: handleOnChange\n            }}>\n            {props.children}\n        </Context.Provider>\n    );\n});\n\nexport const withGeocation = (Componet) => (props) => {\n    return (\n        <Provider>\n            <Componet {...props} />\n        </Provider>\n    );\n};\nexport default Context;\n\nconst movingMap = async (google, lastPosition, newPosition, zoom, pov) => {\n    const { map } = google;\n    const twoPointsdistance = distanceLoaction(lastPosition, newPosition);\n    const ANIMATION_MOVING_DISTANCE = 500;\n    if (twoPointsdistance > ANIMATION_MOVING_DISTANCE) {\n        map.setZoom(4);\n        await delay(1000);\n        // map.panTo({ lat: newPosition.lat, lng: Math.abs(newPosition.lng) >= 90 ? 179 : 0 });\n        // await delay(1500);\n        console.log(map.getZoom());\n    }\n    map.panTo(newPosition);\n    if (twoPointsdistance > ANIMATION_MOVING_DISTANCE) {\n        await delay(50);\n        for (let i = 1; i < zoom - 1; i++) {\n            map.setZoom(i);\n            await delay(150);\n        }\n    }\n\n    map.setZoom(zoom);\n    map.streetView.setPosition(newPosition);\n    map.streetView.setPov(pov);\n};\nexport const useGoogleMapAction = (google, position, zoom, pov) => {\n    const [ _position, setPosition ] = useState(position);\n    useEffect(\n        () => {\n            if (google) {\n                setPosition((_position) => {\n                    movingMap(google, _position, position, zoom, pov);\n                    return position;\n                });\n            }\n        },\n        [ position ]\n    );\n    useEffect(\n        () => {\n            if (google) {\n                google.map.setZoom(zoom);\n            }\n        },\n        [ zoom ]\n    );\n    return { lastPosition: _position, position };\n};\n\nexport const initlizeStreetViewPanorama = (google, ref) => {\n    const panorama = new google.maps.StreetViewPanorama(ref.current, {\n        position: google.map.getCenter(),\n        pov: {\n            heading: 160.0645145746409,\n            pitch: 6.050825854995736\n        },\n        addressControlOptions: {\n            position: google.maps.ControlPosition.BOTTOM_CENTER\n        },\n        linksControl: false,\n        panControl: false,\n        enableCloseButton: false,\n        zoomControl: false,\n        fullscreenControl: false\n    });\n    google.map.setStreetView(panorama);\n};\n\nexport const googleMapStyles = [\n    {\n        featureType: 'all',\n        elementType: 'labels.text.fill',\n        stylers: [\n            {\n                saturation: 36\n            },\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 40\n            }\n        ]\n    },\n    {\n        featureType: 'all',\n        elementType: 'labels.text.stroke',\n        stylers: [\n            {\n                visibility: 'on'\n            },\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 16\n            }\n        ]\n    },\n    {\n        featureType: 'all',\n        elementType: 'labels.icon',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative',\n        elementType: 'geometry',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative',\n        elementType: 'geometry.fill',\n        stylers: [\n            {\n                lightness: 20\n            },\n            {\n                color: '#000000'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative',\n        elementType: 'geometry.stroke',\n        stylers: [\n            {\n                lightness: 17\n            },\n            {\n                weight: 1.2\n            },\n            {\n                color: '#000000'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative.country',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative.province',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative.locality',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative.neighborhood',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'administrative.land_parcel',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'landscape',\n        elementType: 'all',\n        stylers: [\n            {\n                weight: '1.98'\n            }\n        ]\n    },\n    {\n        featureType: 'landscape',\n        elementType: 'geometry',\n        stylers: [\n            {\n                lightness: 20\n            },\n            {\n                color: '#000000'\n            },\n            {\n                visibility: 'on'\n            }\n        ]\n    },\n    {\n        featureType: 'landscape',\n        elementType: 'geometry.fill',\n        stylers: [\n            {\n                visibility: 'on'\n            },\n            {\n                color: '#000000'\n            }\n        ]\n    },\n    {\n        featureType: 'landscape',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'poi',\n        elementType: 'geometry',\n        stylers: [\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 21\n            },\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'poi',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'poi.park',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'road',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'road.highway',\n        elementType: 'geometry.fill',\n        stylers: [\n            {\n                color: '#cbb26d'\n            },\n            {\n                lightness: 17\n            }\n        ]\n    },\n    {\n        featureType: 'road.highway',\n        elementType: 'geometry.stroke',\n        stylers: [\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 29\n            },\n            {\n                weight: 0.2\n            }\n        ]\n    },\n    {\n        featureType: 'road.arterial',\n        elementType: 'geometry',\n        stylers: [\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 18\n            }\n        ]\n    },\n    {\n        featureType: 'road.local',\n        elementType: 'geometry',\n        stylers: [\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 16\n            }\n        ]\n    },\n    {\n        featureType: 'transit',\n        elementType: 'geometry',\n        stylers: [\n            {\n                color: '#000000'\n            },\n            {\n                lightness: 19\n            }\n        ]\n    },\n    {\n        featureType: 'transit',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    },\n    {\n        featureType: 'water',\n        elementType: 'geometry',\n        stylers: [\n            {\n                color: '#cbb26d'\n            },\n            {\n                lightness: 17\n            },\n            {\n                visibility: 'on'\n            }\n        ]\n    },\n    {\n        featureType: 'water',\n        elementType: 'labels.text',\n        stylers: [\n            {\n                visibility: 'off'\n            }\n        ]\n    }\n];\n","import React, { useCallback, useMemo } from 'react';\nimport './ModalP.scss';\nconst ModalP = ({ className, children, actived, setActived, onConfirm, controller, top, bottom, style, justifyContent, backgroundColor, bgStyle, ...rest }) => {\n    const handleOnToggle = useCallback(\n        () => {\n            setActived((state) => !state);\n        },\n        [ setActived ]\n    );\n    const memoTop = useMemo(\n        () => {\n            if (top) {\n                return { paddingTop: `${top}`, alignItems: 'flex-start' };\n            } else if (bottom) {\n                return { paddingBottom: `${bottom}`, alignItems: 'flex-end' };\n            } else {\n                return {};\n            }\n        },\n        [ top, bottom ]\n    );\n\n    const memoJustifyContent = useMemo(\n        () => {\n            if (justifyContent) {\n                return { justifyContent: `${justifyContent}` };\n            } else {\n                return {};\n            }\n        },\n        [ justifyContent ]\n    );\n    const renderChildren = useMemo(\n        () => {\n            if (typeof children === 'function') {\n                return children({ onConfirm, controller, ...rest });\n            } else if (typeof children === 'object') {\n                return children;\n            } else {\n                return '';\n            }\n        },\n        [ children, onConfirm, controller, rest ]\n    );\n\n    return (\n        <div className={[ 'modalP', actived ? 'show' : 'hidden', className ].join('  ')} style={{ ...memoJustifyContent, ...memoTop, ...style }} {...rest}>\n            <div className={[ 'content' ].join('  ')}>{renderChildren}</div>\n            <div className='bg' style={{ backgroundColor: backgroundColor, ...bgStyle }} onClick={handleOnToggle} />\n        </div>\n    );\n};\nexport default ModalP;\n","import React, { useContext, useCallback } from 'react';\nimport ModalP from '../ModalP/ModalP';\nimport s from './ModalSidebar.module.css';\n\nconst transitionStyle = (actived, side = 'left') => {\n    return actived ? { transition: 'transform 400ms ease-in-out', transform: `translate(0, 0)` } : { transition: 'transform 300ms ease-in-out', transform: `translate(${side === 'left' ? '-100vw' : '100vw'}, 0)` };\n};\n\nconst ModalSidebar = ({ onConfirm, children, className, setActived, backgroundColor = 'rgba(0, 0, 0, 0)', side = 'left', actived, ...rest }) => {\n    return (\n        <ModalP\n            className={[ 'center flex color', s.modal, className ].join(' ')}\n            style={transitionStyle(actived, side)}\n            justifyContent={side === 'left' ? 'flex-start' : 'flex-end'}\n            top='0'\n            actived={actived}\n            backgroundColor={backgroundColor}\n            onConfirm={onConfirm}\n            setActived={setActived}\n            {...rest}\n        >\n            {children}\n        </ModalP>\n    );\n};\nexport default ModalSidebar;\n","import React, { useCallback } from 'react';\n\nconst Exsit = ({ exsit, children, className, ...rest }) => {\n    return (\n        <div className={[ className, exsit ? '' : 'hidden' ].join(' ')} {...rest}>\n            {children}\n        </div>\n    );\n};\nconst CoverImage = ({ src }) => {\n    const handleOnLoad = useCallback((e) => {\n        // console.log(e);\n    }, []);\n    return <img onLoad={handleOnLoad} src={src} />;\n};\nconst ItemP = ({\n    className,\n    onChange = (e, data) => {\n        // console.log(data);\n    },\n    icon,\n    src,\n    text,\n    children,\n    value,\n    name,\n    index,\n    actionType,\n    ...rest\n}) => {\n    const handleOnChange = useCallback(\n        (e) => {\n            onChange(e, { name, value, actionType });\n        },\n        [ name, value, onChange, actionType ]\n    );\n\n    return (\n        <div onClick={handleOnChange} className={[ 'itemP', className ].join(' ')} {...rest}>\n            <Exsit exsit={src} className='imgContent'>\n                <CoverImage src={src} />\n            </Exsit>\n            <Exsit exsit={icon} className='iconContent'>\n                <i className={[ 'icon', icon ].join('  ')} />\n            </Exsit>\n\n            <div className='itemContent'>\n                <Exsit exsit={text} className='text'>\n                    {window.t(text)}\n                </Exsit>\n                <Exsit exsit={children} className='childContent'>\n                    {children}\n                </Exsit>\n            </div>\n        </div>\n    );\n};\n\nexport default ItemP;\n","import React, { useMemo } from 'react';\nimport _ from 'lodash';\nimport { withRouter } from 'react-router-dom';\nimport { navMainFields } from '../../../routes/Routes';\nimport ItemP from '../../App/ItemP/ItemP';\nimport s from './Navmain.module.css';\nimport { centerSort } from '../../../lib';\nconst navmainField = _.map(navMainFields, ({ name, main }) => ({ name, to: main.path, text: _.capitalize(name) }));\nconsole.log(navmainField);\n// const navmainField ={\n//     home: { name: 'home', to: '/home', text: 'Home' },\n//     app: { name: 'app', to: '/', text: 'App' },\n//     auth: { name: 'auth', to: '/auth', text: 'Auth' }\n// };\nconst navmainFields = Object.values(navmainField);\nconst middleNavmainFields = centerSort(navmainFields);\n// console.log(middleNavmainFields);\nconst CardItem = ({ className, text, icon }) => {\n    return <div className={[ 'item', className ].join(' ')}>{text}</div>;\n};\n\nconst Navmain = ({ onChange, name = 'vertical' }) => {\n    const memoFields = useMemo(\n        () => {\n            switch (name) {\n                case 'horizontal':\n                    return middleNavmainFields;\n                default:\n                    return navmainFields;\n            }\n        },\n        [ name ]\n    );\n    return (\n        <div className={[ s.nav, s[name] ].join(' ')}>\n            {memoFields.map((field, index) => (\n                <ItemP\n                    // className=' inverted ui segment fluid attached'\n                    {...field}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default withRouter(Navmain);\n","import { useState, useEffect } from 'react';\n\nconst useModal = (propActived = false, propConfirm) => {\n    const [ onConfirm, setOnConfirm ] = useState(propConfirm);\n    const [ actived, setAcitved ] = useState(propActived);\n    const [ controller, setController ] = useState({});\n\n    useEffect(\n        () => {\n            if (onConfirm) {\n                setAcitved(true);\n            }\n        },\n        [ onConfirm ]\n    );\n    // console.log(onConfirm);\n\n    return [ actived, setAcitved, onConfirm, setOnConfirm, controller, setController ];\n};\n\nexport default useModal;\n","import React, { useContext, useCallback } from 'react';\nimport ModalSidebar from '../../Modal/ModalSidebar/ModalSidebar';\nimport Navmain from '../../Nav/Navmain/Navmain';\nimport useModal from '../../../hooks/useModal';\nimport s from './ButtonMenu.module.css';\n\nconst ButtonMenu = React.memo(({ onClick, name, value }) => {\n    const [ actived, setActived ] = useModal(false);\n\n    const handleOnClick = useCallback(\n        (e) => {\n            setActived((state) => !state);\n            if (onClick) {\n                onClick(e, { name, value: actived });\n            }\n        },\n        [ onClick, actived, setActived, name ]\n    );\n\n    return (\n        <React.Fragment>\n            <div className='menu  iconBtn rotateChange ' onClick={handleOnClick}>\n                <i className={[ 'ui icon', !actived ? 'actived bars' : 'enactived times' ].join(' ')} />\n            </div>\n            <ModalSidebar actived={actived} setActived={setActived}>\n                <Navmain />\n            </ModalSidebar>\n        </React.Fragment>\n    );\n});\n\nexport default ButtonMenu;\n","import React, { useCallback } from 'react';\nimport ButtonMenu from '../../Button/ButtonMenu/ButtonMenu';\n// import ScreenP from '../../Screen/ScreenP/ScreenP';\n// import useToggle from '../../../hooks/useToggle';\nconst Navbar = React.memo(() => {\n    const handleOnClick = useCallback((e, data) => {\n        console.log(data);\n    }, []);\n    return (\n        <div className='nav'>\n            <ButtonMenu name='menu' value='menu' onClick={handleOnClick} />\n        </div>\n    );\n});\n\nconst Layout = ({ children }) => {\n    return (\n        <div>\n            <Navbar />\n\n            {children}\n        </div>\n    );\n};\nexport default React.memo(Layout);\n","import React from 'react';\n\nconst PageP = ({ children, className, ...rest }) => {\n    return (\n        <div className={[ 'page', 'className' ].join(' ')} {...rest}>\n            {children}\n        </div>\n    );\n};\nexport default PageP;\n","import { useState, useCallback } from 'react';\n\nconst useToggle = (initState) => {\n    const [ actived, setActived ] = useState(initState);\n    const toggleActived = useCallback(\n        () => {\n            setActived((actived) => !actived);\n        },\n        [ setActived ]\n    );\n    return [ actived, toggleActived, setActived ];\n};\n\nexport default useToggle;\n","import React, { useCallback } from 'react';\nimport _ from 'lodash';\nimport useToggle from '../../../hooks/useToggle';\nconst SectionP = ({ children, toggle, parallax = {}, className, absolute, ...rest }) => {\n    const [ actived, toggleActived ] = useToggle(true);\n    return (\n        <section className={[ !_.isEmpty(parallax) ? 'parallax' : '', absolute ? 'absolute' : '' ].join(' ')}>\n            {toggle && (\n                <div className='section toggle' onClick={toggle ? toggleActived : () => console.log('click')}>\n                    {toggle}\n                </div>\n            )}\n            <div className='bg' style={{ ...parallax }} />\n            <div className={[ 'content', className, actived ? '' : 'hidden' ].join(' ')} {...rest}>\n                {children}\n            </div>\n        </section>\n    );\n};\nexport default React.memo(SectionP);\n","import React, { useMemo, useCallback } from 'react';\nimport { pickByIdentity } from '../../lib';\n\nexport const withField = (Component) => (props) => {\n    const { actionType, input = {}, className, meta, name, onChange, onBlur = () => {}, onFocus = () => {}, onClick, defaultValue, ref, ...rest } = props;\n    const metaClassNames = useMemo(() => pickByIdentity(meta), [ meta ]);\n    const { onChange: inputOnChange, onBlur: inputOnBlur, onFocus: inputFocus, ...restInput } = input;\n\n    const handleOnChange = useCallback(\n        (e, data) => {\n            if (onChange) {\n                onChange(e, data);\n            } else if (inputOnChange) {\n                inputOnChange(data.value);\n            }\n        },\n        [ inputOnChange, onChange ]\n    );\n    const handleOnBlur = useCallback(\n        (e) => {\n            onBlur(e);\n            if (inputOnBlur) {\n                inputOnBlur(e);\n            }\n        },\n        [ onBlur, inputOnBlur ]\n    );\n    const handleOnFocus = useCallback(\n        (e) => {\n            onFocus(e);\n\n            if (inputFocus) {\n                inputFocus(e);\n            }\n        },\n        [ onFocus, inputFocus ]\n    );\n    return <Component {...rest} className={[ className, metaClassNames ].join(' ')} actionType={actionType} input={{ name, value: defaultValue, ...restInput, onBlur: handleOnBlur, onChange: handleOnChange, onFocus: handleOnFocus, onClick, ref }} />;\n};\n","import React, { useCallback, useState, useRef, useMemo, useEffect } from 'react';\nimport { withField } from '../withField';\n// import s from './InputTextareaP.module.css';\n\nconst InputTextareaP = ({ actionType, placeholder, input = {}, maxLength, style, autoGrow, ...rest }) => {\n    const { onChange, name, value = '', ...restInput } = input;\n    const [ localValue, setValue ] = useState('');\n    const [ wordLength, setWordLength ] = useState(0);\n\n    const ref = useRef({});\n\n    const handleOnChange = useCallback(\n        (e) => {\n            setWordLength(e.target.value.length);\n            setValue(e.target.value);\n            onChange(e, { actionType, name: e.target.name, value: e.target.value });\n        },\n        [ onChange ]\n    );\n    useEffect(\n        () => {\n            setValue(value);\n        },\n        [ value ]\n    );\n    const height = useMemo(\n        () => {\n            return Math.max(ref.current.scrollHeight, ref.current.clientHeight) || ref.current.clientHeight;\n        },\n        [ ref.current.scrollHeight ]\n    );\n    console.log(value);\n    return (\n        <div className='relative'>\n            <textarea {...rest} {...input} ref={ref} value={localValue} placeholder={window.t(placeholder)} name={name} data-word-length={wordLength} maxLength={maxLength} style={{ height: autoGrow ? height : '', ...rest }} onChange={handleOnChange} />\n        </div>\n    );\n};\nexport default withField(InputTextareaP);\n","import React, { useContext, useCallback, useState, useEffect } from 'react';\nimport { withField } from '../withField';\nconst InputDataList = ({ options = [], id }) => {\n    return <datalist id={id}>{options.map((value, index) => <option key={index} value={value} />)}</datalist>;\n};\n\nconst InputP = ({ actionType, placeholder, dataList = {}, maxLength, input = {}, children, ...rest }) => {\n    const [ wordLength, setWordLength ] = useState(0);\n    const { onChange, name, value = '' } = input;\n    const [ localValue, setValue ] = useState(value);\n\n    const handleOnChange = useCallback(\n        (e) => {\n            setWordLength(e.target.value.length);\n            setValue(e.target.value);\n            onChange(e, { actionType, name, value: e.target.value, [name]: e.target.value });\n        },\n        [ onChange ]\n    );\n    useEffect(\n        () => {\n            setValue(value);\n        },\n        [ value ]\n    );\n\n    return (\n        <div className='input'>\n            <input placeholder={window.t(placeholder)} name={name} {...rest} maxLength={maxLength} {...input} list={dataList.id} data-word-length={wordLength} value={localValue} onChange={handleOnChange} />\n            {dataList.id && <InputDataList {...dataList} />}\n            {children}\n        </div>\n    );\n};\n\nexport default withField(InputP);\n","import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { withField } from '../withField';\nimport s from './InputAddress.module.css';\n// import _ from 'lodash';\n\n// const DEFAULT_LAT = -33.8617374;\n// const DEFAULT_LNG = 151.2021291;\n\nconst InputAddress = ({ actionType, placeholder, dataList = {}, maxLength, onCancel = (e, data) => console.log(data), onPlace = (e, data) => console.log(data), input = {}, ...rest }) => {\n    const [ localValue, setLocalValue ] = useState(null);\n    const { onChange, name, value } = input;\n    const ref = useRef(null);\n    useEffect(\n        () => {\n            if (ref) {\n                const autocomplete = new window.google.maps.places.Autocomplete(ref.current, { types: [ 'geocode' ] });\n                autocomplete.addListener('place_changed', () => handleOnPlaceChanged(autocomplete));\n            }\n        },\n        [ ref ]\n    );\n    const handleOnPlaceChanged = useCallback((autocomplete) => {\n        const place = autocomplete.getPlace();\n        if (place.address_components) {\n            setLocalValue(place.formatted_address);\n            onChange(null, { actionType, name, value: place.formatted_address, [name]: place.formatted_address });\n            onPlace(null, { actionType, name: 'place', place });\n        } else {\n            onPlace(null, { actionType, name: 'place', place: {} });\n        }\n    }, []);\n\n    const handleOnChange = useCallback((e) => {\n        setLocalValue(e.target.value);\n        onChange(e, { actionType, name: e.target.name, value: e.target.value });\n    }, []);\n\n    const handleOnCancel = useCallback((e) => {\n        onCancel(e, { name });\n        onChange(e, { actionType, name, value: null, [name]: null });\n        setLocalValue(null);\n        ref.current.value = '';\n    }, []);\n\n    return (\n        <div className={[ 'input', s.input ].join(' ')}>\n            {/* {!loadSdk && <LoadScript url={process.env.REACT_APP_GOOGLE_MAP_API} onLoaded={handleOnLoad} />} */}\n            {localValue && (\n                <span className={s.closeBtn} onClick={handleOnCancel}>\n                    <div>+</div>\n                </span>\n            )}\n            <input placeholder={window.t(placeholder)} name={name} {...rest} maxLength={maxLength} {...input} value={value} ref={ref} onChange={handleOnChange} />\n        </div>\n    );\n};\n\nexport default withField(InputAddress);\n","import React from 'react';\nconst Marker = ({ text, className, onClick, imgSrc }) => {\n    return (\n        <div className={[ 'marker', className ].join(' ')} onClick={onClick} style={{ backgroundColor: imgSrc ? 'transparant' : '' }}>\n            <p> {text}</p>\n            {/* <img src={imgSrc} className='cover' /> */}\n        </div>\n    );\n};\nexport default Marker;\n","import React, { useEffect, useRef } from 'react';\nimport { initlizeStreetViewPanorama } from '../../../contexts/Geocation/GeocationContext';\nimport s from './StreetViewPanorama.module.css';\nconst StreetViewPanorama = ({ visible = true, google = {} }) => {\n    const svRef = useRef(null);\n    useEffect(\n        () => {\n            if (google) {\n                initlizeStreetViewPanorama(google, svRef);\n            }\n        },\n        [ svRef, google ]\n    );\n    return <div className={[ s.view, 'panorama', visible ? '' : 'hidden' ].join(' ')} ref={(_ref) => (svRef.current = _ref)} style={{ opacity: visible ? '1.0' : '0' }} />;\n};\n\nexport default StreetViewPanorama;\n","import { useState, useCallback, useMemo } from 'react';\n\nconst useDragItems = () => {\n    const [ draggingIndex, setDIndex ] = useState(null);\n    const [ dragOverIndex, setDOIndex ] = useState(null);\n    const [ isDragging, setIsDraggin ] = useState(false);\n    const updateItems = useCallback((items, draggingIndex, dragOverIndex) => {\n        if (draggingIndex !== null && dragOverIndex !== null) {\n            if (draggingIndex !== dragOverIndex);\n            {\n                let temp = items[draggingIndex];\n                items[draggingIndex] = items[dragOverIndex];\n                items[dragOverIndex] = temp;\n            }\n        }\n        return items;\n    }, []);\n\n    const handlers = useMemo(\n        () => {\n            return {\n                onDragStart: (e) => {\n                    e.target.classList.add('actived');\n                    setIsDraggin(true);\n                    setDIndex(+e.target.getAttribute('data-index'));\n                },\n                onDragOver: (e) => {\n                    setDOIndex(+e.target.getAttribute('data-index'));\n                },\n                onDragEnd: (e) => {\n                    e.target.classList.remove('actived');\n                    setDIndex(null);\n                    setDOIndex(null);\n                    setIsDraggin(false);\n                },\n\n                draggable: true\n            };\n        },\n        [ window.innerWidth ]\n    );\n\n    return { handlers, draggingIndex, dragOverIndex, updateItems, isDragging };\n};\nexport default useDragItems;\n","import React, { useState, useEffect, useRef } from 'react';\nimport s from './Polyline.module.css';\nconst defaultConfig = {\n    path: [],\n    geodesic: true,\n    strokeColor: '#FFFFFF',\n    strokeOpacity: 0.8,\n    strokeWeight: 5\n};\n\nconst Polyline = ({ config, path, google, visible = true }) => {\n    const ref = useRef(null);\n    const [ pointPath, setPointPath ] = useState(null);\n    useEffect(\n        () => {\n            if (pointPath && google) {\n                const { map } = google;\n                pointPath.visible = visible;\n                pointPath.setMap(map);\n            }\n        },\n        [ visible ]\n    );\n\n    useEffect(\n        () => {\n            if (pointPath && google) {\n                const { map } = google;\n                pointPath.setPath(path);\n                pointPath.setMap(map);\n            }\n        },\n        [ path ]\n    );\n    useEffect(\n        () => {\n            if (google) {\n                const { maps } = google;\n                const _pointPath = new maps.Polyline({ ...defaultConfig, ...config });\n                setPointPath(_pointPath);\n            }\n        },\n        [ google ]\n    );\n\n    return <div className={[ s.view, 'polyline' ].join(' ')} ref={(_ref) => (ref.current = _ref)} style={{ opacity: true ? '1.0' : '0' }} />;\n};\n\nexport default Polyline;\n","import React, { useEffect, useRef, useState, useCallback, useContext, useMemo } from 'react';\nimport _ from 'lodash';\nimport GoogleMapReact from 'google-map-react';\nimport InputTextareaP from '../../Input/InputTextareaP/InputTextareaP';\nimport InputP from '../../Input/InputP/InputP';\nimport ItemP from '../../App/ItemP/ItemP';\nimport InputAddress from '../../Input/InputAddress/InputAddress';\nimport GeocationContext, { googleMapStyles, places, initlizeStreetViewPanorama, useGoogleMapAction } from '../../../contexts/Geocation/GeocationContext';\nimport Point from '../Point/Point';\nimport Marker from '../Marker/Marker';\nimport StreetViewPanorama from '../StreetViewPanorama/StreetViewPanorama';\nimport useDragItems from '../../../hooks/useDragItems';\nimport s from './GeoJourney.module.css';\nimport Polyline from '../Polyline/Polyline';\n\nconst actionFields = [\n    { actionType: 'toEdit', icon: 'trash edit outline' },\n    {\n        actionType: 'sendItem',\n        icon: 'envelope outline'\n    },\n    { actionType: 'pinItem', icon: 'thumbtack' },\n    { actionType: 'deleteItem', icon: 'trash alternate outline' }\n];\nconst RightMenuBtn = ({ onChange = () => {}, item, fields = [] }) => {\n    const [ actived, setActived ] = useState(false);\n    const handleOnToggle = useCallback(() => {\n        setActived((actived) => !actived);\n    }, []);\n    const handleOnChange = useCallback(\n        (e) => {\n            onChange(e, { actionType: e.target.getAttribute('data-action'), item });\n        },\n        [ item, onChange ]\n    );\n\n    return (\n        <div className={s.menu}>\n            <div>\n                <div className={s.btns} style={{ display: actived !== true ? 'none' : '' }}>\n                    {fields.map(({ actionType, icon }) => (\n                        <span key={actionType}>\n                            <i onClick={handleOnChange} data-action={actionType} className={`icon ${icon}`} />\n                        </span>\n                    ))}\n                </div>\n            </div>\n            <i onClick={handleOnToggle} className='icon bars' />\n        </div>\n    );\n};\nconst GeoJourneyItems = ({ className }) => {\n    const { itemsState: { items }, onChange } = useContext(GeocationContext);\n    const { handlers, draggingIndex, dragOverIndex, updateItems, isDragging } = useDragItems();\n    // const [ scrollMoving ] = useWindowScroll();\n\n    // const memoItems = useMemo(() => updateItems(items, draggingIndex, dragOverIndex), [ items, draggingIndex, dragOverIndex ]);\n    useEffect(\n        () => {\n            if (dragOverIndex) {\n                onChange(null, { actionType: 'getItems', items: updateItems(items, draggingIndex, dragOverIndex) });\n            }\n        },\n        [ dragOverIndex ]\n    );\n\n    return (\n        <div className={[ className, 'fixedContent-1 right', s.items ].join(' ')}>\n            {items.map((item, index) => <GeoJourneyItem onChange={onChange} data-index={index} index={index} className={[ 'todo' ].join(' ')} {...handlers} actionType='getItem' name='item' key={item.id} item={item} />)}\n        </div>\n    );\n};\nconst GeoJourneyItem = ({ item, name, actionType, onChange, index, ...rest }) => {\n    const { image = {}, title, __html } = item;\n\n    return (\n        <ItemP onChange={onChange} index={index} actionType={actionType} value={item} name={name} src={image.src} {...rest}>\n            <div className={s.content}>\n                <h4 className='title'>{title}</h4>\n                <div className='desc' dangerouslySetInnerHTML={{ __html }} />\n            </div>\n            <RightMenuBtn item={item} onChange={onChange} fields={actionFields} />\n        </ItemP>\n    );\n};\n\nconst GeoJourneyItemBtnMine = () => {\n    const { onChange } = useContext(GeocationContext);\n    return (\n        <ItemP actionType='getMineItems' name='items' onChange={onChange} className='ui button'>\n            Mine\n        </ItemP>\n    );\n};\n\nconst GeoJourneyForm = ({ children }) => {\n    const [ google, setGoolge ] = useState(null);\n    const { sectionName, onChange, initJourney, state: { item } } = useContext(GeocationContext);\n    const { position, zoom } = item;\n    useEffect(\n        () => {\n            if (google) {\n                google.map.setCenter(position);\n                google.map.getStreetView().setPosition(position);\n            }\n        },\n        [ position ]\n    );\n    useEffect(\n        () => {\n            if (google) {\n                google.map.setZoom(zoom);\n            }\n        },\n        [ zoom ]\n    );\n\n    const handleOnGoogleApiLoaded = useCallback((google) => {\n        const { map } = google;\n        map.addListener('click', (point) => {\n            console.log(point);\n            onChange(null, { actionType: 'setPoint', name: 'point', point });\n        });\n        onChange(null, { actionType: 'getMap', name: 'map', map: google.map });\n        setGoolge(google);\n    }, []);\n    const handleOnSubmit = useCallback(\n        (e, data) => {\n            console.log(data);\n            onChange(e, data);\n        },\n        [ onChange ]\n    );\n    return (\n        <div id='journey-form' style={{ display: sectionName !== 'read' ? 'block' : 'none' }}>\n            <div className='ui form'>\n                <div>\n                    <label>Address</label>\n                    <InputAddress defaultValue={''} name='address' actionType='setPlaceValue' onPlace={onChange} />\n                </div>\n                <div>\n                    <label>Title</label>\n                    <InputP defaultValue={item['title']} className='ui input' actionType='patchValue' name='title' onChange={onChange} />\n                </div>\n                <div>\n                    <label>Content</label>\n                    <InputTextareaP defaultValue={item['__html']} className='ui input textarea' actionType='patchValue' name='__html' onChange={onChange} />\n                </div>\n\n                <ItemP actionType='postItem' name='item' value={{ google, item }} className='btn ui button primary' onChange={handleOnSubmit}>\n                    Save\n                </ItemP>\n            </div>\n            <StreetViewPanorama visible={true} google={google} />\n            <div className='map'>\n                <GoogleMapReact\n                    options={{ minZoom: 2, maxZoom: 15, styles: googleMapStyles, gestureHandling: 'greedy', zoomControl: false }}\n                    defaultCenter={initJourney.position}\n                    defaultZoom={initJourney.zoom}\n                    bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAP_API_KEY }}\n                    yesIWantToUseGoogleMapApiInternals\n                    onGoogleApiLoaded={handleOnGoogleApiLoaded}>\n                    {children}\n                </GoogleMapReact>\n            </div>\n        </div>\n    );\n};\nconst GeoJourenyInfoModal = ({ children, name, last, onChange = () => {}, onClose, className, items, cursor }) => {\n    const item = useMemo(() => items[cursor], [ cursor, items ]);\n    const { __html } = item;\n    const handleOnMinus = useCallback((e) => {\n        onChange(e, { actionType: 'minus' });\n        // contextChange(e, { name: 'minus' });\n    }, []);\n    const handleOnAdd = useCallback((e) => {\n        onChange(e, { actionType: 'add' });\n        // contextChange(e, { name: 'add' });\n    }, []);\n    // const handleOnClick = useCallback((e) => {\n    //     // onChange(e, { name: 'lastMarker', value: true });\n    //     onClose();\n    // }, []);\n    return (\n        <div className={[ 'InfoModal', className ].join(' ')}>\n            <span>{cursor !== 0 && <i className='icon chevron left' onClick={handleOnMinus} />}</span>\n            <div>\n                <p dangerouslySetInnerHTML={{ __html }} />\n                {children}\n                <div className='row btns'>\n                    <button onClick={onClose}>Cancel</button>\n                    {cursor === items.length - 1 && <button onClick={onClose}>More</button>}\n                </div>\n            </div>\n\n            <span>{cursor !== items.length - 1 && <i className='icon chevron right' onClick={handleOnAdd} />}</span>\n        </div>\n    );\n};\n\nconst GeoJourneyItemMap = ({ children }) => {\n    const [ google, setGoolge ] = useState(null);\n    const { onChange, itemsState: { items }, initJourney } = useContext(GeocationContext);\n    const [ cursor, setCursor ] = useState(0);\n    const [ hoverd, setHoverd ] = useState(false);\n    const currentItem = useMemo(() => (items[cursor] ? items[cursor] : {}), [ items, cursor ]);\n    const { position, zoom, pov } = currentItem;\n    useGoogleMapAction(google, position, zoom, pov);\n    const handleOnGoogleApiLoaded = useCallback((google) => {\n        window.google = google;\n        onChange(null, { actionType: 'getMap', name: 'map', map: google.map });\n        setGoolge(google);\n    }, []);\n\n    const handleOnHoverdToggle = useCallback(() => {\n        setHoverd((state) => !state);\n    }, []);\n    const handleOnChange = useCallback(\n        (e, data) => {\n            switch (data.actionType) {\n                case 'minus':\n                    setCursor((value) => (value > 0 ? value - 1 : value));\n                    break;\n                case 'add':\n                    setCursor((value) => (value !== items.length ? value + 1 : value));\n                    break;\n                default:\n                    break;\n            }\n        },\n        [ items ]\n    );\n\n    return (\n        <div className={s.map}>\n            <StreetViewPanorama visible={true} google={google} />\n            <GeoJourenyInfoModal items={items} cursor={cursor} className={hoverd ? 'hoverd' : 'hidden'} onChange={handleOnChange} onClose={handleOnHoverdToggle} />\n            <div className='map'>\n                <GoogleMapReact\n                    options={{ minZoom: 2, maxZoom: 15, styles: googleMapStyles, gestureHandling: 'greedy', zoomControl: false }}\n                    defaultCenter={initJourney.position}\n                    defaultZoom={initJourney.zoom}\n                    bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAP_API_KEY }}\n                    yesIWantToUseGoogleMapApiInternals\n                    onGoogleApiLoaded={handleOnGoogleApiLoaded}>\n                    {children}\n                    {items.map(({ position, id, title }, index) => (\n                        <Marker onClick={handleOnHoverdToggle} className={index == cursor ? 'current' : 'next'} key={'point' + id} lat={position.lat} lng={position.lng} text={index == cursor ? title : index + 1} />\n                    ))}\n                    <Polyline visible={true} path={items.map(({ position }) => position)} config={{ path: [] }} google={google} />\n\n                    {/* {places.features.slice(0, actived ? places.features.length : 0).map(({ geometry, properties }, index) => {\n                        const { coordinates } = geometry;\n                        const [ lng, lat ] = coordinates;\n                        return <Point key={index} lat={lat} lng={lng} properties={properties} geometry={geometry} />;\n                    })} */}\n                </GoogleMapReact>\n            </div>\n        </div>\n    );\n};\nGeoJourneyItem.Form = GeoJourneyForm;\nGeoJourneyItem.Items = GeoJourneyItems;\nGeoJourneyItem.Map = GeoJourneyItemMap;\nGeoJourneyItem.BtnMine = GeoJourneyItemBtnMine;\nexport default GeoJourneyItem;\n","import React, { useContext, useCallback, useState, useRef, useEffect, useMemo } from 'react';\nimport GeocationContext, { withGeocation } from '../../../contexts/Geocation/GeocationContext';\nimport Layout from '../../App/Layout/Layout';\nimport PageP from '../../App/PageP/PageP';\nimport SectionP from '../../App/SectionP/SectionP';\nimport GeoJourney from '../../Geo/GeoJourney/GeoJourney';\n\nimport s from './JourneyPage.module.css';\n\nconst JourneyPage = (props) => {\n    const { match: { params: { target } } } = props;\n    const { index } = useContext(GeocationContext);\n\n    return (\n        <Layout>\n            <PageP>\n                {/* <CameraUserMedia /> */}\n                <div className='ui container'>\n                    <SectionP>\n                        <div className={s.btns}>\n                            <GeoJourney.BtnMine />\n                        </div>\n\n                        <GeoJourney.Items />\n                        {/* <GeoJourney.Form name={target} /> */}\n                        <GeoJourney.Map />\n                    </SectionP>\n                </div>\n            </PageP>\n        </Layout>\n    );\n};\n\nexport default withGeocation(JourneyPage);\n"],"sourceRoot":""}